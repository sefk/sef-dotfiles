# A few of these are from Joe Blaylock (jrbl@jrbl.com)
# A few from https://mutelight.org/practical-tmux

set -g prefix C-a
# set -g status off

# Start Window Numbering at One
set -g base-index 1

# make it more responsive -- don't wait for an escape sequence
set -s escape-time 0

# for multiplexed windows, only resize to smallest one if they're actually
# engaged
# setw -g aggressive-resize on
setw -g aggressive-resize off

unbind Space
bind Space next-window

unbind ^Space
#bind ^Space next-window

# unbind ^@
# bind ^@ next-window

unbind ^H
bind ^H previous-window

#unbind BSpace
#bind BSpace previous-window

#unbind ^BSpace
#bind ^BSpace previous-window

# Some places have a version of tmux that supports down-pane, in which case
# the select-pane trick doesn't work.  And other places have a version with
# select-pane but not down-pane.  So... yeah.
unbind Tab
bind Tab select-pane -t :.+
# bind Tab down-pane
bind ^a select-pane -t :.+

# Make split behaviors reasonable
unbind '"'
unbind %
unbind -
bind - split-window
bind | split-window -h
bind \ split-window -h

# need binding for next-layout
unbind *
bind * next-layout

#### Fix copy/paste on Mac
# from: http://robots.thoughtbot.com/tmux-copy-paste-on-os-x-a-better-future

# Use vim keybindings in copy mode
setw -g mode-keys vi
# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
# Update default binding of `Enter` to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"
bind-key -t vi-copy Escape cancel

#### Play nicely with mouse
# from: http://www.drbunsen.org/the-text-triumvirate/
set -g default-command "reattach-to-user-namespace -l bash"
set -g mode-mouse on
setw -g mouse-select-window on
setw -g mouse-select-pane on
setw -g mouse-resize-pane on

set -g default-terminal "screen-256color"
